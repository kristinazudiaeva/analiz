# Анализ заполненности зала (вариант 24)

Практическое задание по компьютерному зрению: классификация, детектирование и сегментация заполненности зала по стульям с использованием предобученных моделей YOLOv8. В проекте есть веб‑интерфейс на Flask, загрузка изображений/видео/кадра с камеры, история запросов и генерация отчётов (PDF/Excel).

## Быстрый старт
1. Установите зависимости (Python 3.10+):
   ```bash
   python -m venv .venv
   .venv\Scripts\activate  # Windows
   pip install -r requirements.txt
   ```
2. Запустите приложение:
   ```bash
   set FLASK_APP=app.py
   flask run --host=0.0.0.0 --port=8000
   ```
   При первом запуске модели (`yolov8n.pt`, `yolov8n-seg.pt`, `yolov8n-cls.pt`) автоматически загрузятся из репозитория Ultralytics.
3. Откройте интерфейс: http://localhost:8000

## Возможности
- **Детекция** стульев и людей (YOLOv8 detection).
- **Сегментация** контура объектов (YOLOv8 segmentation).
- **Классификация сцены** (YOLOv8 classification) + эвристическая оценка заполненности.
- Обработка изображений, видео и получение кадра с камеры.
- История запросов в `data/history.json`.
- Генерация отчётов: `/report/pdf` и `/report/excel`.
- Примеры результатов сохраняются в `static/results/`.

## Структура
- `app.py` — Flask-приложение и HTTP-роуты.
- `pipeline.py` — загрузка моделей, обработка изображений/видео, отчёты.
- `templates/index.html` — веб-интерфейс.
- `static/` — стили, JS, результирующие медиа.
- `data/history.json` — история обращений.
- `docs/report.md` — черновик отчёта (можно сохранить в PDF).
- `docs/presentation.md` — 3–5 слайдов по результатам.

## Отчёт и презентация
- Заполните `docs/report.md` деталями экспериментов и экспортируйте в PDF.
- Используйте `docs/presentation.md` как каркас для 3–5 слайдов.
- Для автоматической выгрузки последних запусков получите PDF/Excel из интерфейса.

## Полезные команды
- Очистить историю: удалите `data/history.json` или замените на `[]`.
- Запуск с горячей перезагрузкой: `flask --app app.py --debug run`.
- Проверка зависимостей: `pip list --outdated`.
